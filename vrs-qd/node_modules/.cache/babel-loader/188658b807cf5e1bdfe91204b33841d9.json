{"remainingRequest":"C:\\Users\\31695\\Desktop\\vrs\\vrs-qd\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\31695\\Desktop\\vrs\\vrs-qd\\src\\untils\\api.js","dependencies":[{"path":"C:\\Users\\31695\\Desktop\\vrs\\vrs-qd\\src\\untils\\api.js","mtime":1587428092838},{"path":"C:\\Users\\31695\\Desktop\\vrs\\vrs-qd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\31695\\Desktop\\vrs\\vrs-qd\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9NZXNzYWdlMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9tZXNzYWdlLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX01lc3NhZ2UgZnJvbSAiZWxlbWVudC11aS9saWIvbWVzc2FnZSI7Ci8vIOWvvOWFpWF4aW9zCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7IC8vIOWTjeW6lOeggeeahOaLpuaIqgoKYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAoc3VjY2VzcykgewogIGlmIChzdWNjZXNzLnN0YXR1cyAmJiBzdWNjZXNzLnN0YXR1cyA9PT0gMjAwICYmIHN1Y2Nlc3MuZGF0YS5zdGF0dXMgPT09IDUwMCkgewogICAgX01lc3NhZ2UuZXJyb3IoewogICAgICBtZXNzYWdlOiBzdWNjZXNzLmRhdGEubXNnCiAgICB9KTsKCiAgICByZXR1cm47CiAgfQoKICBpZiAoc3VjY2Vzcy5kYXRhLm1zZykgewogICAgX01lc3NhZ2Uuc3VjY2Vzcyh7CiAgICAgIG1lc3NhZ2U6IHN1Y2Nlc3MuZGF0YS5tc2cKICAgIH0pOwogIH0KCiAgcmV0dXJuIHN1Y2Nlc3MuZGF0YTsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNTA0IHx8IGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7CiAgICBfTWVzc2FnZS5lcnJvcih7CiAgICAgIG1lc3NhZ2U6ICfmnI3liqHlmajmnInpl67popgnCiAgICB9KTsKICB9IGVsc2UgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAzKSB7CiAgICBfTWVzc2FnZS5lcnJvcih7CiAgICAgIG1lc3NhZ2U6ICfmnYPpmZDkuI3otrPvvIzor7fogZTns7vnrqHnkIblkZgnCiAgICB9KTsKICB9IGVsc2UgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7CiAgICBfTWVzc2FnZS5lcnJvcih7CiAgICAgIG1lc3NhZ2U6ICflsJrmnKrnmbvlvZXvvIzor7fnmbvlvZUnCiAgICB9KTsKICB9IGVsc2UgewogICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEubXNnKSB7CiAgICAgIF9NZXNzYWdlLmVycm9yKHsKICAgICAgICBtZXNzYWdlOiBlcnJvci5yZXNwb25zZS5kYXRhLm1zZwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIF9NZXNzYWdlLmVycm9yKHsKICAgICAgICBtZXNzYWdlOiAn5pyq55+l6ZSZ6K+vJwogICAgICB9KTsKICAgIH0KICB9Cn0pOwp2YXIgYmFzZSA9ICcnOwpleHBvcnQgdmFyIHBvc3RLZXlWYWx1ZVJlcXVlc3QgPSBmdW5jdGlvbiBwb3N0S2V5VmFsdWVSZXF1ZXN0KHVybCwgcGFyYW1zKSB7CiAgcmV0dXJuIGF4aW9zKHsKICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgdXJsOiAiIi5jb25jYXQoYmFzZSkuY29uY2F0KHVybCksCiAgICBkYXRhOiBwYXJhbXMsCiAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgdmFyIHJldCA9ICcnOwoKICAgICAgZm9yICh2YXIgaSBpbiBkYXRhKSB7CiAgICAgICAgcmV0ICs9IGVuY29kZVVSSUNvbXBvbmVudChpKSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChkYXRhW2ldKSArICcmJzsKICAgICAgfSAvLyBjb25zb2xlLmxvZyhyZXQpOwoKCiAgICAgIHJldHVybiByZXQ7CiAgICB9XSwKICAgIGhlYWRlcjogewogICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcKICAgIH0KICB9KTsKfTs="},{"version":3,"sources":["C:/Users/31695/Desktop/vrs/vrs-qd/src/untils/api.js"],"names":["axios","interceptors","response","use","success","status","data","error","message","msg","base","postKeyValueRequest","url","params","method","transformRequest","ret","i","encodeURIComponent","header"],"mappings":";;;AACA;AACA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;;AACAA,KAAK,CAACC,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CAAgC,UAAAC,OAAO,EAAI;AACvC,MAAIA,OAAO,CAACC,MAAR,IAAkBD,OAAO,CAACC,MAAR,KAAmB,GAArC,IAA4CD,OAAO,CAACE,IAAR,CAAaD,MAAb,KAAwB,GAAxE,EAA6E;AACzE,aAAQE,KAAR,CAAc;AAAEC,MAAAA,OAAO,EAAEJ,OAAO,CAACE,IAAR,CAAaG;AAAxB,KAAd;;AACA;AACH;;AACD,MAAIL,OAAO,CAACE,IAAR,CAAaG,GAAjB,EAAsB;AAClB,aAAQL,OAAR,CAAgB;AAAEI,MAAAA,OAAO,EAAEJ,OAAO,CAACE,IAAR,CAAaG;AAAxB,KAAhB;AACH;;AACD,SAAOL,OAAO,CAACE,IAAf;AACH,CATD,EASG,UAAAC,KAAK,EAAI;AACR,MAAIA,KAAK,CAACL,QAAN,CAAeG,MAAf,KAA0B,GAA1B,IAAiCE,KAAK,CAACL,QAAN,CAAeG,MAAf,KAA0B,GAA/D,EAAoE;AAChE,aAAQE,KAAR,CAAc;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAAd;AACH,GAFD,MAEO,IAAID,KAAK,CAACL,QAAN,CAAeG,MAAf,KAA0B,GAA9B,EAAmC;AACtC,aAAQE,KAAR,CAAc;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAAd;AACH,GAFM,MAEA,IAAID,KAAK,CAACL,QAAN,CAAeG,MAAf,KAA0B,GAA9B,EAAmC;AACtC,aAAQE,KAAR,CAAc;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAAd;AACH,GAFM,MAEA;AACH,QAAID,KAAK,CAACL,QAAN,CAAeI,IAAf,CAAoBG,GAAxB,EAA6B;AACzB,eAAQF,KAAR,CAAc;AAAEC,QAAAA,OAAO,EAAED,KAAK,CAACL,QAAN,CAAeI,IAAf,CAAoBG;AAA/B,OAAd;AACH,KAFD,MAEO;AACH,eAAQF,KAAR,CAAc;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAd;AACH;AACJ;AACJ,CAvBD;AAyBA,IAAIE,IAAI,GAAG,EAAX;AACA,OAAO,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,GAAD,EAAMC,MAAN,EAAiB;AAChD,SAAOb,KAAK,CAAC;AACTc,IAAAA,MAAM,EAAE,MADC;AAETF,IAAAA,GAAG,YAAKF,IAAL,SAAYE,GAAZ,CAFM;AAGTN,IAAAA,IAAI,EAAEO,MAHG;AAITE,IAAAA,gBAAgB,EAAE,CAAC,UAAUT,IAAV,EAAgB;AAC/B,UAAIU,GAAG,GAAG,EAAV;;AACA,WAAK,IAAIC,CAAT,IAAcX,IAAd,EAAoB;AAChBU,QAAAA,GAAG,IAAIE,kBAAkB,CAACD,CAAD,CAAlB,GAAwB,GAAxB,GAA8BC,kBAAkB,CAACZ,IAAI,CAACW,CAAD,CAAL,CAAhD,GAA4D,GAAnE;AACH,OAJ8B,CAK/B;;;AACA,aAAOD,GAAP;AACH,KAPiB,CAJT;AAYTG,IAAAA,MAAM,EAAE;AACJ,sBAAgB;AADZ;AAZC,GAAD,CAAZ;AAgBH,CAjBM","sourcesContent":["import { Message } from 'element-ui'\r\n// 导入axios\r\nimport axios from 'axios'\r\n\r\n// 响应码的拦截\r\naxios.interceptors.response.use(success => {\r\n    if (success.status && success.status === 200 && success.data.status === 500) {\r\n        Message.error({ message: success.data.msg })\r\n        return\r\n    }\r\n    if (success.data.msg) {\r\n        Message.success({ message: success.data.msg })\r\n    }\r\n    return success.data\r\n}, error => {\r\n    if (error.response.status === 504 || error.response.status === 404) {\r\n        Message.error({ message: '服务器有问题' })\r\n    } else if (error.response.status === 403) {\r\n        Message.error({ message: '权限不足，请联系管理员' })\r\n    } else if (error.response.status === 401) {\r\n        Message.error({ message: '尚未登录，请登录' })\r\n    } else {\r\n        if (error.response.data.msg) {\r\n            Message.error({ message: error.response.data.msg })\r\n        } else {\r\n            Message.error({ message: '未知错误' })\r\n        }\r\n    }\r\n})\r\n\r\nlet base = ''\r\nexport const postKeyValueRequest = (url, params) => {\r\n    return axios({\r\n        method: 'post',\r\n        url: `${base}${url}`,\r\n        data: params,\r\n        transformRequest: [function (data) {\r\n            let ret = ''\r\n            for (let i in data) {\r\n                ret += encodeURIComponent(i) + '=' + encodeURIComponent(data[i]) + '&'\r\n            }\r\n            // console.log(ret);\r\n            return ret\r\n        }],\r\n        header: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n        }\r\n    })\r\n}"]}]}