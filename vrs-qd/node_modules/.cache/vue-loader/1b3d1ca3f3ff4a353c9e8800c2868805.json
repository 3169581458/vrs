{"remainingRequest":"C:\\Users\\31695\\Desktop\\vrs\\vrs-qd\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\31695\\Desktop\\vrs\\vrs-qd\\src\\view\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\31695\\Desktop\\vrs\\vrs-qd\\src\\view\\login.vue","mtime":1587427395504},{"path":"C:\\Users\\31695\\Desktop\\vrs\\vrs-qd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\31695\\Desktop\\vrs\\vrs-qd\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\31695\\Desktop\\vrs\\vrs-qd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\31695\\Desktop\\vrs\\vrs-qd\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6J0xvZ2luJywKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJbG9naW5Gb3JtOiB7CgkJCQl1c2VybmFtZTogJ0FkbWluJywKCQkJCXBhc3N3b3JkOiAnMTIzNDU2JwoJCQl9LAoJCQoJCWNoZWNrZWQ6IHRydWUsCgkJbG9naW5SdWxlczp7CgkJCXVzZXJuYW1lOlsKCQkJCXtyZXF1aXJlZDp0cnVlLG1lc3NhZ2U6J+ivt+i+k+WFpei0puWPtycsdHJpZ2dlcjonYmx1cid9LAoJCQkJe21pbjozLG1heDo2LG1lc3NhZ2U6J+mVv+W6puWcqDPliLA25Liq5a2XJyx0cmlnZ2VyOidibHVyJ30KCQkJXSwKCQkJcGFzc3dvcmQ6WwoJCQkJe3JlcXVpcmVkOnRydWUsbWVzc2FnZTon6K+36L6T5YWl6LSm5Y+3Jyx0cmlnZ2VyOidibHVyJ30sCgkJCQl7bWluOjMsbWF4OjcsbWVzc2FnZTon6ZW/5bqm5ZyoM+WIsDbkuKrlrZfnrKYnLHRyaWdnZXI6J2JsdXInfQoJCQldCgkJfQoJCQl9CgkJCgl9LAoJbWV0aG9kczp7CgkJbG9naW4gKCkgewoJCQl0aGlzLiRyZWZzLmxvZ2luRm9ybVJlZi52YWxpZGF0ZShhc3luYyB2YWxpZCA9PiB7CgkJCQkvLyBjb25zb2xlLmxvZyh2YWxpZCkKCQkJCWlmICghdmFsaWQpIHsKCQkJCQlyZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign55So5oi35ZCN5oiW5a+G56CB5qC85byP5LiN5q2j56Gu77yM6K+36YeN5paw6L6T5YWlJykKCQkJCX0KCQkJCWNvbnN0IHJlc3AgPSBhd2FpdCB0aGlzLnBvc3RLZXlWYWx1ZVJlcXVlc3QoJy9kb0xvZ2luJywgdGhpcy5sb2dpbkZvcm0pCgkJCQljb25zb2xlLmxvZyhyZXNwKQoJCQkJaWYgKHJlc3ApIHsKCQkJCQljb25zb2xlLmxvZyhyZXNwLm9iaikKCQkJCQkvLyAxLiDlsIbnmbvlvZXmiJDlip/kuYvlkI7nmoR1c2Vy5L+d5a2Y5Yiw5a6i5oi356uv55qEc2Vzc2lvblN0b3JhZ2XkuK0KCQkJCQkvLyAgICAxLjEg6aG555uu5Lit5Ye65LqG55m75b2V5LmL5aSW55qE5YW25a6DQVBJ5o6l5Y+j77yM5b+F6aG75Zyo55m75b2V5LmL5ZCO5omN6IO96K6/6ZeuCgkJCQkJLy8gICAgMS4yIHVzZXLlj6rlupTlnKjlvZPliY3nvZHnq5nmiZPlvIDmnJ/pl7TnlJ/mlYjvvIzmiYDku6XlsIZ1c2Vy5L+d5a2Y5Zyoc2Vzc2lvblN0b3JhZ2XkuK0KCQkJCQl3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KHJlc3Aub2JqKSk7CgkJCQkJLy8g6I635Y+W5p+l6K+i5a2X56ym5Liy5Lit55qEcGF0aOaYr+WQpuWMheWQq3JlZGlyZWN0CgkJCQkJbGV0IHBhdGggPSB0aGlzLiRyb3V0ZS5xdWVyeS5yZWRpcmVjdAoJCQkJCS8vIDIuIOmAmui/h+e8lueoi+W8j+WvvOiIqui3s+i9rOWIsOWQjuWPsOS4u+mhte+8jOi3r+eUseWcsOWdgOaYryAvaG9tZQoJCQkJCWF3YWl0IHRoaXMuJHJvdXRlci5yZXBsYWNlKChwYXRoID09PSAnLycgfHwgcGF0aCA9PT0gdW5kZWZpbmVkKSA/ICcvaG9tZScgOiBwYXRoKQoJCQkJfQoJCQl9KQoJCX0KCX0KCQp9Cg=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"login.vue","sourceRoot":"src/view","sourcesContent":["<template>\r\n\t<div class=\"app\">\r\n\t\t<el-form :model=\"loginForm\" :rules=\"loginRules\" ref=\"loginRef\" label-width=\"0px\" class=\"demo-ruleForm\">\r\n\t\t\t\t<p style=\"text-align: center;\"><b>系统登陆</b></p>\r\n\t\t\t<!-- 用户名 -->\r\n\t\t\t<el-form-item prop=\"username\">\r\n\t\t\t\t<el-input v-model=\"loginForm.username\" prefix-icon=\"iconfont icon-account-fill\"></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<!-- 密码 -->\r\n\t\t\t<el-form-item prop=\"password\">\r\n\t\t\t\t<el-input v-model=\"loginForm.password\" prefix-icon=\"iconfont icon-password\"\r\n\t\t\t\t\t\t  @keydown.enter.native=\"login\" show-password></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<!-- 记住我 -->\r\n\t\t\t<el-form-item>\r\n\t\t\t<el-checkbox v-model=\"checked\" class=\"login_remember\">记住我</el-checkbox>\r\n\t\t\t</el-form-item>\r\n\t\t\t<!-- 登录按钮 -->\r\n\t\t\t<el-form-item class=\"btn\">\r\n\t\t\t\t<el-button type=\"primary\" @click=\"login\">登录</el-button>\r\n\t\t\t\t<el-button type=\"info\" @click=\"resetLoginForm\">重置</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname:'Login',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tloginForm: {\r\n\t\t\t\t\tusername: 'Admin',\r\n\t\t\t\t\tpassword: '123456'\r\n\t\t\t\t},\r\n\t\t\t\r\n\t\t\tchecked: true,\r\n\t\t\tloginRules:{\r\n\t\t\t\tusername:[\r\n\t\t\t\t\t{required:true,message:'请输入账号',trigger:'blur'},\r\n\t\t\t\t\t{min:3,max:6,message:'长度在3到6个字',trigger:'blur'}\r\n\t\t\t\t],\r\n\t\t\t\tpassword:[\r\n\t\t\t\t\t{required:true,message:'请输入账号',trigger:'blur'},\r\n\t\t\t\t\t{min:3,max:7,message:'长度在3到6个字符',trigger:'blur'}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tlogin () {\r\n\t\t\t\tthis.$refs.loginFormRef.validate(async valid => {\r\n\t\t\t\t\t// console.log(valid)\r\n\t\t\t\t\tif (!valid) {\r\n\t\t\t\t\t\treturn this.$message.error('用户名或密码格式不正确，请重新输入')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst resp = await this.postKeyValueRequest('/doLogin', this.loginForm)\r\n\t\t\t\t\tconsole.log(resp)\r\n\t\t\t\t\tif (resp) {\r\n\t\t\t\t\t\tconsole.log(resp.obj)\r\n\t\t\t\t\t\t// 1. 将登录成功之后的user保存到客户端的sessionStorage中\r\n\t\t\t\t\t\t//    1.1 项目中出了登录之外的其它API接口，必须在登录之后才能访问\r\n\t\t\t\t\t\t//    1.2 user只应在当前网站打开期间生效，所以将user保存在sessionStorage中\r\n\t\t\t\t\t\twindow.sessionStorage.setItem('user', JSON.stringify(resp.obj));\r\n\t\t\t\t\t\t// 获取查询字符串中的path是否包含redirect\r\n\t\t\t\t\t\tlet path = this.$route.query.redirect\r\n\t\t\t\t\t\t// 2. 通过编程式导航跳转到后台主页，路由地址是 /home\r\n\t\t\t\t\t\tawait this.$router.replace((path === '/' || path === undefined) ? '/home' : path)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tbody {\r\n\t\t\r\n\t}\r\n.app{\r\n\twidth: 500px;\r\n\theight: 350px;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\ttop: 50%;\r\n\tmargin-left: -250px;\r\n\tmargin-top: -175px;\r\n\tborder:1px solid gray;\r\n\tborder-radius: 30px;\r\n\r\n\tbox-shadow: 10px 10px 10px 10px #888888;\r\n}\r\n\t.demo-ruleForm {\r\n\t\twidth: 400px;\r\n\t\tmargin: 0 auto;\r\n\t\tmargin-top: 40px;\r\n\t}\r\n\t.btn{\r\n\t\tmargin-left: 135px;\r\n\t}\r\n</style>\r\n"]}]}