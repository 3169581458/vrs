{"remainingRequest":"C:\\Users\\31695\\Desktop\\vrs\\vrs-qd\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\31695\\Desktop\\vrs\\vrs-qd\\src\\component\\syetem\\basic\\Position.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\31695\\Desktop\\vrs\\vrs-qd\\src\\component\\syetem\\basic\\Position.vue","mtime":1587951786837},{"path":"C:\\Users\\31695\\Desktop\\vrs\\vrs-qd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\31695\\Desktop\\vrs\\vrs-qd\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\31695\\Desktop\\vrs\\vrs-qd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\31695\\Desktop\\vrs\\vrs-qd\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICdQb3NpdGlvbicsCglkYXRhKCkgewoJCXJldHVybiB7CgkJCXBvczogewoJCQkJbmFtZTogJycKCQkJfSwKCQkJdGFibGVEYXRhOiBbXSwKCQkJdXBkYXRlUG9zOiB7CgkJCQluYW1lOiAnJywKCQkJCWVuYWJsZWQ6IHR1cmUKCQkJfSwKCQkJZGlhbG9nVmlzaWJsZTogZmFsc2UsCgkJCW11bHRpcGxlU2VsZWN0aW9uOiBbXQoJCX0KCX0sCgltZXRob2RzOiB7CgkJLy8g6KGo5qC85pWw5o2u5Yid5aeL5YyW5aSE55CGCgkJYXN5bmMgaW5pdFBvc2l0aW9ucygpIHsKCQkJY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuZ2V0UmVxdWVzdCgnL3N5c3RlbS9iYXNpYy9wb3MvJykKCQkJaWYgKGRhdGEpIHsKCQkJCXRoaXMudGFibGVEYXRhID0gZGF0YS5vYmoKCQkJfQoJCX0sCgkJLy8g5re75Yqg5paw6K6w5b2V55qE5LqL5Lu25aSE55CGCgkJYXN5bmMgYWRkUG9zaXRpb24oKSB7CgkJCWlmICh0aGlzLnBvcy5uYW1lKSB7CgkJCQljb25zdCByZXNwID0gYXdhaXQgdGhpcy5wb3N0UmVxdWVzdCgnL3N5c3RlbS9iYXNpYy9wb3MvJywgdGhpcy5wb3MpCgkJCQlpZiAocmVzcCkgewoJCQkJCXRoaXMuaW5pdFBvc2l0aW9ucygpCgkJCQkJdGhpcy5wb3MubmFtZSA9ICcnCgkJCQl9CgkJCX0gZWxzZSB7CgkJCQl0aGlzLiRtZXNzYWdlLmVycm9yKCfogYzkvY3lkI3np7DkuI3og73kuLrnqbonKQoJCQl9CgkJfSwKCQkvLyDmmL7npLrkv67mlLnlr7nor53moYYKCQlzaG93RWRpdERpYWxvZyhpbmRleCwgZGF0YSkgewoJCQkvLyB0aGlzLnVwZGF0ZVBvcyA9IGRhdGEgLy8g5rWF5ou36LSd5Lya5pS55Y+Y6KGo5qC855qE6K6w5b2VCgkJCU9iamVjdC5hc3NpZ24odGhpcy51cGRhdGVQb3MsIGRhdGEpIC8vIOS9v+eUqOa3seaLt+i0nQoJCQl0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlCgkJfSwKCQkvLyDlvLnmoYbnoa7orqTkv67mlLnnmoTkuovku7blpITnkIYKCQlhc3luYyBkb1VwZGF0ZSgpIHsKCQkJY29uc3QgcmVzcCA9IGF3YWl0IHRoaXMucHV0UmVxdWVzdCgnL3N5c3RlbS9iYXNpYy9wb3MvJywgdGhpcy51cGRhdGVQb3MpCgkJCWlmIChyZXNwKSB7CgkJCQl0aGlzLmluaXRQb3NpdGlvbnMoKQoJCQkJdGhpcy51cGRhdGVQb3MubmFtZSA9ICcnCgkJCQl0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZQoJCQl9CgkJfSwKCQkvLyDooajmoLzorrDlvZXnmoTliKDpmaTmjInpkq7nmoTkuovku7blpITnkIYKCQloYW5kbGVEZWxldGUoaW5kZXgsIGRhdGEpIHsKCQkJdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6ZmkJyArIGRhdGEubmFtZSArICfogYzkvY0sIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewoJCQkJY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAoJCQkJY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCgkJCQl0eXBlOiAnd2FybmluZycKCQkJfSkudGhlbigoKSA9PiB7CgkJCQl0aGlzLmRlbGV0ZVJlcXVlc3QoJy9zeXN0ZW0vYmFzaWMvcG9zLycgKyBkYXRhLmlkKS50aGVuKHJlc3AgPT4gewoJCQkJCXRoaXMuaW5pdFBvc2l0aW9ucygpCgkJCQl9KQoJCQl9KS5jYXRjaCgoKSA9PiB7CgkJCQl0aGlzLiRtZXNzYWdlKHsKCQkJCQl0eXBlOiAnaW5mbycsCgkJCQkJbWVzc2FnZTogJ+W3suWPlua2iOaTjeS9nCcKCQkJCX0pOwoJCQl9KTsKCQl9LAoJCS8vIOiusOW9leWkmumAieeahOWkhOeQhgoJCWhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsKCQkJY29uc29sZS5sb2codmFsKQoJCQl0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gdmFsCgkJfSwKCQkvLyDmibnph4/liKDpmaQKCQlkZWxldGVNYW55KCkgewoJCQl0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaQnICsgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5sZW5ndGggKyAn5p2h6K6w5b2VLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKCQkJCWNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKCQkJCWNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAoJCQkJdHlwZTogJ3dhcm5pbmcnCgkJCX0pLnRoZW4oKCkgPT4gewoJCQkJLy8g55Sf5oiQ5Yig6Zmk6K6w5b2VIGlk55qE5p+l6K+i5a2X56ym5LiyCgkJCQlsZXQgaWRzID0gIj8iCgkJCQl0aGlzLm11bHRpcGxlU2VsZWN0aW9uLmZvckVhY2goaXRlbSA9PiB7CgkJCQkJaWRzICs9ICJpZHM9IiArIGl0ZW0uaWQgKyAnJicKCQkJCX0pCgkJCQl0aGlzLmRlbGV0ZVJlcXVlc3QoJy9zeXN0ZW0vYmFzaWMvcG9zLycgKyBpZHMpLnRoZW4ocmVzcCA9PiB7CgkJCQkJdGhpcy5pbml0UG9zaXRpb25zKCkKCQkJCX0pCgkJCX0pLmNhdGNoKCgpID0+IHsKCQkJCXRoaXMuJG1lc3NhZ2UoewoJCQkJCXR5cGU6ICdpbmZvJywKCQkJCQltZXNzYWdlOiAn5bey5Y+W5raI5pON5L2cJwoJCQkJfSk7CgkJCX0pOwoJCX0KCX0sCgkvLyDlnKjpobXpnaLlhYPntKDmjILovb3lkI7liqDovb3mlbDmja4KCW1vdW50ZWQoKSB7CgkJdGhpcy5pbml0UG9zaXRpb25zKCkKCX0KCn0K"},{"version":3,"sources":["Position.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Position.vue","sourceRoot":"src/component/syetem/basic","sourcesContent":["<template>\r\n\t<div>\r\n\t\taaa\r\n\t\t<div class=\"search-box\">\r\n\t\t\t<el-input v-model=\"pos.name\" placeholder=\"+ 添加职位\"></el-input>\r\n\t\t\t<el-button class=\"add\" type=\"primary\" @click=\"addPosition\">+添加</el-button>\r\n\t\t</div>\r\n\t\t<div class=\"table\">\r\n\t\t\t<el-table ref=\"multipleTable\" :data=\"tableData\" border stripe tooltip-effect=\"dark\" style=\"width: 60%\"\r\n\t\t\t @selection-change=\"handleSelectionChange\">\r\n\t\t\t\t<el-table-column type=\"selection\" width=\"60\">\r\n\t\t\t\t</el-table-column>\r\n\r\n\t\t\t\t<el-table-column prop=\"id\" label=\"编号\" width=\"120\">\r\n\t\t\t\t</el-table-column>\r\n\r\n\t\t\t\t<el-table-column prop=\"name\" label=\"职位名称\" width=\"120\">\r\n\t\t\t\t</el-table-column>\r\n\r\n\t\t\t\t<el-table-column prop=\"createDate\" label=\"创建时间\" width=\"150px\" show-overflow-tooltip>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t\r\n\t\t\t\t<!-- <el-table-column prop=\"enable\" label=\"是否启用\" width=\"150px\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-tag v-if=\"scope.row.enabled\" type=\"success\">已启用</el-tag>\r\n\t\t\t\t\t\t<el-tag v-else type=\"warning\">未启用</el-tag>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column> -->\r\n\r\n\t\t\t\t<el-table-column label=\"操作\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-button icon=\"el-icon-edit\" @click=\"showEditDialog(scope.$index, scope.row)\"></el-button>\r\n\t\t\t\t\t\t<el-button icon=\"el-icon-delete\" @click=\"handleDelete(scope.$index, scope.row)\"></el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t<el-button type=\"danger\" size=\"small\" style=\"margin-top: 8px\" @click=\"deleteMany\" :disabled=\"multipleSelection.length === 0\">\r\n\t\t\t\t批量删除\r\n\t\t\t</el-button>\r\n\t\t</div>\r\n\t\t<el-dialog title=\"修改职位\" :visible.sync=\"dialogVisible\" width=\"30%\">\r\n\t\t\t<div>\r\n\t\t\t\t<el-tag>职位名称</el-tag>\r\n\t\t\t\t<el-input class=\"update_input\" size=\"small\" v-model=\"updatePos.name\"></el-input>\r\n\t\t\t</div>\r\n\t\t\t<!-- <div>\r\n\t\t\t\t<el-tag>是否启用</el-tag>\r\n\t\t\t\t<el-switch v-model=\"updatePos.enabled\" class=\"update_input\"></el-switch>\r\n\t\t\t</div> -->\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"dialogVisible = false\" size=\"small\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"doUpdate\" size=\"small\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'Position',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpos: {\r\n\t\t\t\t\tname: ''\r\n\t\t\t\t},\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tupdatePos: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tenabled: ture\r\n\t\t\t\t},\r\n\t\t\t\tdialogVisible: false,\r\n\t\t\t\tmultipleSelection: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 表格数据初始化处理\r\n\t\t\tasync initPositions() {\r\n\t\t\t\tconst data = await this.getRequest('/system/basic/pos/')\r\n\t\t\t\tif (data) {\r\n\t\t\t\t\tthis.tableData = data.obj\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 添加新记录的事件处理\r\n\t\t\tasync addPosition() {\r\n\t\t\t\tif (this.pos.name) {\r\n\t\t\t\t\tconst resp = await this.postRequest('/system/basic/pos/', this.pos)\r\n\t\t\t\t\tif (resp) {\r\n\t\t\t\t\t\tthis.initPositions()\r\n\t\t\t\t\t\tthis.pos.name = ''\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$message.error('职位名称不能为空')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 显示修改对话框\r\n\t\t\tshowEditDialog(index, data) {\r\n\t\t\t\t// this.updatePos = data // 浅拷贝会改变表格的记录\r\n\t\t\t\tObject.assign(this.updatePos, data) // 使用深拷贝\r\n\t\t\t\tthis.dialogVisible = true\r\n\t\t\t},\r\n\t\t\t// 弹框确认修改的事件处理\r\n\t\t\tasync doUpdate() {\r\n\t\t\t\tconst resp = await this.putRequest('/system/basic/pos/', this.updatePos)\r\n\t\t\t\tif (resp) {\r\n\t\t\t\t\tthis.initPositions()\r\n\t\t\t\t\tthis.updatePos.name = ''\r\n\t\t\t\t\tthis.dialogVisible = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 表格记录的删除按钮的事件处理\r\n\t\t\thandleDelete(index, data) {\r\n\t\t\t\tthis.$confirm('此操作将永久删除' + data.name + '职位, 是否继续?', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tthis.deleteRequest('/system/basic/pos/' + data.id).then(resp => {\r\n\t\t\t\t\t\tthis.initPositions()\r\n\t\t\t\t\t})\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\tmessage: '已取消操作'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 记录多选的处理\r\n\t\t\thandleSelectionChange(val) {\r\n\t\t\t\tconsole.log(val)\r\n\t\t\t\tthis.multipleSelection = val\r\n\t\t\t},\r\n\t\t\t// 批量删除\r\n\t\t\tdeleteMany() {\r\n\t\t\t\tthis.$confirm('此操作将永久删除' + this.multipleSelection.length + '条记录, 是否继续?', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\t// 生成删除记录 id的查询字符串\r\n\t\t\t\t\tlet ids = \"?\"\r\n\t\t\t\t\tthis.multipleSelection.forEach(item => {\r\n\t\t\t\t\t\tids += \"ids=\" + item.id + '&'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.deleteRequest('/system/basic/pos/' + ids).then(resp => {\r\n\t\t\t\t\t\tthis.initPositions()\r\n\t\t\t\t\t})\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\tmessage: '已取消操作'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 在页面元素挂载后加载数据\r\n\t\tmounted() {\r\n\t\t\tthis.initPositions()\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.el-input {\r\n\t\twidth: 300px;\r\n\t}\r\n\r\n\t.add {\r\n\t\tmargin-left: 20px;\r\n\t}\r\n\r\n\t.table {\r\n\t\tmargin-top: 20px;\r\n\t}\r\n</style>\n"]}]}